{% load filters %}
<div class="outter-table-con">
  <div class="table-label">
    <h3 class="label">Latest {{ label|title }}</h3>
  </div>
  <table class="table-con">
    <thead>
      <tr>
        {% for item in table_heads %}
          <th class="table-head {{ item|replace:' ,-' }}-head">{{ item }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for item in table_items %}
        {% if widget == "animes" %}
          <tr class="table-row">
            <td class="table-item">
              <p class="profile-image-tick">
                <a href="/anime{{ item.slug }}" target="_blank" class="watch-link slug">
                  <img src="{{ item.image_url }}" alt="{{ item.title }}" title="{{ item.title }}" class="poster-image" />
                </a>
              </p>
            </td>
            <td class="table-item">
              <p class="title-tick" title="{{ item.title }}">{{ item.title|truncatechars:30 }}</p>
            </td>
            <td class="table-item">
              <p class="{% if not item.disabled %}status-tick active{% else %}status-tick remove{% endif %}">
                {% if not item.disabled %}active{% else %}inactive{% endif %}
              </p>
            </td>
            <td class="table-item">
              <button class="table-btn disable" data-disabled="{{ item.disabled }}" data-key="{{ forloop.counter0 }}">
                disable
              </button>
            </td>
          </tr>
        {% else %}
          <tr class="table-row" data-key="{{ forloop.counter0 }}">
            <td class="table-item">
                {% if item.profile_image %}
                    <p class="profile-image-tick">
                        <img src="{{ item.profile_image }}" alt="{{ item.username }}" title="{{ item.username }}" class="profile-image" />
                    </p>
                {% else %}
                    <i class="fas fa-user profile-image-tick" title="{{ item.username }}"></i>
                {% endif %}
            </td>
            <td class="table-item">
              <p class="username-tick|truncatechars:30">{{ item.username }}</p>
            </td>
            <td class="table-item Email-tick-item">
              <p class="email-tick">{{ item.email }}</p>
            </td>
            <td class="table-item">
              <p class="{% if not item.deleted %}status-tick active{% else %}status-tick remove{% endif %}">
                {% if not item.deleted %}active{% else %}inactive{% endif %}
              </p>
            </td>
            <td class="table-item">
              <button class="table-btn disable" data-disabled="{{ item.disabled }}" data-id="{{ item.id }}" data-key="{{ forloop.counter0 }}">
                disable
              </button>
            </td>
            <td class="table-item">
              <button class="table-btn delete" data-deleted="{{ item.deleted }}" data-id="{{ item.id }}" data-key="{{ forloop.counter0 }}">
                delete
              </button>
            </td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  <div class="table-search-con">
    <div class="inner-table-search-con">
      <div class="table-search-input-con">
        <input type="text" class="table-search" data-type="{{widget}}">
        <button class="table-search-btn" data-type="{{widget}}">search</button>
      </div>
    </div>
  </div>
  <div class="tabel-pagination">
    {% with table_heads=users_heads %}
    <ul>
      {% if pages > 6 %}
        {% for i in 5|times %}
          <li class="pages-ticks">
            <button data-page="{{ i }}" class="paginatiokn-btn page-btn">
              {{ i }}
            </button>
          </li>
        {% endfor %}
          <li class="pages-ticks">
            <i class="fas fa-ellipsis-h"></i>
          </li>
      {% else %}
        {% for i in pages|times %}
          <li class="pages-ticks">
            <button data-page="{{ i }}" class="pagination-btn page-btn">
              {{ i }}
            </button>
          </li>
        {% endfor %}
      {% endif %}
      {% if pages > 1 %}
      <li class="pages-ticks">
        <button data-page="{{ pages }}" class="pagination-btn page-btn">
          {{ pages }}
        </button>
      </li>
      {% endif %}
    </ul>
  {% endwith %}
</div>
</div>
