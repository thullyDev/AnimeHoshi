{% extends "bases/anime.html" %}
{% load filters %}

{% block head_content %}
<script defer>
	const type = "{{type}}"
</script>
{% endblock %}

{% block main_content %}
	<div class="inner-con inner-main-content">
		<div class="filter-con">
			{% if not page == "search" %}
			<div class="inner-con">
      			{% if type == "main" %}
	      			{% for key, values in tioanime_queries.items %}
	      				{% include "pages/anime/widgets/filters.html" %}
					{% endfor %}
				{% else %}
	      			{% for key, values in latanime_queries.items %}
	      				{% include "pages/anime/widgets/filters.html" %}
					{% endfor %}
				{% endif %}
				<button class="apply-btn">Apply</button>
			</div>
			{% endif %}
		</div>
		<div class="switch-con">
			<a href='/{% if type == "main" %}latino{% else %}main{% endif %}/filter/' class="filter-swap-link">{% if type == "main" %}latino{% else %}main{% endif %}</a>
		</div>
		<div class="outter-animes-con">
           {% with label="Animes" animes=data.animes %}
           		{% include "pages/anime/widgets/animes_wrapper.html" %}
           {% endwith %}
		</div>
		<div class="pagination-con">
			<ul>
				{% with pages=data.pages%}
					{% for page in pages|pagi %}
			          <li class="pages-ticks">
			            <a href="/{{type}}/filter?page={{page}}{{query}}" 
			               class="{% if page == 1 %} hl-ele {% endif %}pagination-btn page-btn">
			              {{ page }}
			            </a>
			          </li>
			        {% endfor %}
					{% if pages > 1 %}
			          <li class="pages-ticks">
			            <i class="fas fa-ellipsis-h"></i>
			          </li>
				      <li class="pages-ticks">
				        <a href="/{{type}}/filter?page={{pages}}{{query}}" 
				           class="hl-ele pagination-btn page-btn">
				          {{ pages }}
				        </a>
				      </li>
					{% endif %}
				{% endwith %}
			</ul>
		</div>
	</div>
{% endblock %}
