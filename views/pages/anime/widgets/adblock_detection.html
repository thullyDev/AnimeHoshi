{% if page != "alert" and site_data.settings.adblocker_detection.value %}
<script defer>
  const checkAdblock = (selector) => {
        function isAdBlockActive() {
            const ad_wrapper = document.querySelector(".adsbox")
            const ad_wrapper_width = ad_wrapper == null ? 0 : ad_wrapper.offsetWidth
            const has_adblock = ad_wrapper == null ? true : window.getComputedStyle(ad_wrapper)?.display === "none"

            if (!has_adblock || !ad_wrapper || ad_wrapper_width != "0") return

              message = encodeURIComponent("Adblock Detected")
              description = encodeURIComponent("please turn off your adblock to use site properly")
              window.location.replace(`/alert?message=${message}&description=${description}`)
          }
      setTimeout(isAdBlockActive, 1000)
}
    checkAdblock();
</script>
{% endif %}
